// 函数: sub_476f20
// 地址: 0x476f20
// 来自: E:/torrent/Apollo/R11/R11.exe.bndb

if ((data_c7a960 & 1) == 0)
    data_c7a960.d |= 1
    sub_46d000(&data_c79d90)
    sub_48258e(sub_49cb00)

if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
    EnterCriticalSection(&data_c79d54)

int32_t ebx
ebx.b = data_c79fb8

if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
    LeaveCriticalSection(&data_c79d54)

if (ebx.b == 0)
    if ((data_c7a960 & 1) == 0)
        data_c7a960.d |= 1
        sub_46d000(&data_c79d90)
        sub_48258e(sub_49cb00)
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        EnterCriticalSection(&data_c79d54)
    
    bool cond:3_1 = class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b == 0
    data_c79ff4 = arg5
    
    if (not(cond:3_1))
        LeaveCriticalSection(&data_c79d54)
    
    if ((data_c7a960 & 1) == 0)
        data_c7a960.d |= 1
        sub_46d000(&data_c79d90)
        sub_48258e(sub_49cb00)
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        EnterCriticalSection(&data_c79d54)
    
    bool cond:4_1 = class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b == 0
    data_c79ff8 = arg6
    
    if (not(cond:4_1))
        LeaveCriticalSection(&data_c79d54)
    
    if ((data_c7a960 & 1) == 0)
        data_c7a960.d |= 1
        sub_46d000(&data_c79d90)
        sub_48258e(sub_49cb00)
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        EnterCriticalSection(&data_c79d54)
    
    bool cond:5_1 = class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b == 0
    data_c7a020 = arg7
    
    if (not(cond:5_1))
        LeaveCriticalSection(&data_c79d54)
    
    if ((data_c7a960 & 1) == 0)
        data_c7a960.d |= 1
        sub_46d000(&data_c79d90)
        sub_48258e(sub_49cb00)
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        EnterCriticalSection(&data_c79d54)
    
    bool cond:6_1 = class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b == 0
    data_c7a024 = arg7
    
    if (not(cond:6_1))
        LeaveCriticalSection(&data_c79d54)
    
    if ((data_c7a960 & 1) == 0)
        data_c7a960.d |= 1
        sub_46d000(&data_c79d90)
        sub_48258e(sub_49cb00)
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        EnterCriticalSection(&data_c79d54)
    
    bool cond:7_1 = class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b == 0
    data_c79fb5 = 1
    
    if (not(cond:7_1))
        LeaveCriticalSection(&data_c79d54)
    
    if ((data_c7a960 & 1) == 0)
        data_c7a960.d |= 1
        sub_46d000(&data_c79d90)
        sub_48258e(sub_49cb00)
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        EnterCriticalSection(&data_c79d54)
    
    char ebx_1 = data_c79fb1
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        LeaveCriticalSection(&data_c79d54)
    
    if (ebx_1 != 0)
    label_47720c:
        sub_472200(1)
        int32_t var_84 = 1
        int32_t var_80 = 0
        int32_t var_7c = 1
        int32_t var_78 = 0
        int32_t var_74 = 0
        int32_t var_70 = 2
        int32_t var_6c
        __builtin_memset(&var_6c, 0, 0x24)
        int32_t var_48
        sub_480cf0(&var_48, 0, 0x48)
        var_48 = arg1
        uint32_t var_18 = zx.d(arg2)
        int32_t var_38 = arg3
        int32_t var_34 = arg4
        
        if ((data_c7a960 & 1) == 0)
            data_c7a960.d |= 1
            sub_46d000(&data_c79d90)
            sub_48258e(sub_49cb00)
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            EnterCriticalSection(&data_c79d54)
        
        int32_t esi_2 = data_c79fdc
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            LeaveCriticalSection(&data_c79d54)
        
        if (esi_2 != 0)
            sub_46ff00()
            int32_t var_38_1 = sub_46e2c0(&data_c79d90)
        
        if ((data_c7a960 & 1) == 0)
            data_c7a960.d |= 1
            sub_46d000(&data_c79d90)
            sub_48258e(sub_49cb00)
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            EnterCriticalSection(&data_c79d54)
        
        int32_t esi_3 = data_c79fe0
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            LeaveCriticalSection(&data_c79d54)
        
        if (esi_3 != 0)
            sub_46ff00()
            int32_t var_34_1 = sub_46e340(&data_c79d90)
        
        if ((data_c7a960 & 1) == 0)
            data_c7a960.d |= 1
            sub_46d000(&data_c79d90)
            sub_48258e(sub_49cb00)
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            EnterCriticalSection(&data_c79d54)
        
        int32_t esi_4 = data_c79fcc
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            LeaveCriticalSection(&data_c79d54)
        
        if (esi_4 != 0xffffffff)
            sub_46ff00()
            var_48 = sub_46e140(&data_c79d90)
        
        if ((data_c7a960 & 1) == 0)
            data_c7a960.d |= 1
            sub_46d000(&data_c79d90)
            sub_48258e(sub_49cb00)
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            EnterCriticalSection(&data_c79d54)
        
        char ebx_2 = data_c79fd1
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            LeaveCriticalSection(&data_c79d54)
        
        if (ebx_2 != 0)
            int32_t var_18_1 = 0
            sub_46ff00()
            
            if (sub_46e2c0(&data_c79d90) == 0)
                sub_46ff00()
                
                if (sub_46e340(&data_c79d90) == 0)
                    int32_t var_70_1 = 0
        
        if ((data_c7a960 & 1) == 0)
            data_c7a960.d |= 1
            sub_46d000(&data_c79d90)
            sub_48258e(sub_49cb00)
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            EnterCriticalSection(&data_c79d54)
        
        ebx_2 = data_c79fd0
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            LeaveCriticalSection(&data_c79d54)
        
        if (ebx_2 != 0)
            int32_t var_18_2 = 1
        
        if ((data_c7a960 & 1) == 0)
            data_c7a960.d |= 1
            sub_46d000(&data_c79d90)
            sub_48258e(sub_49cb00)
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            EnterCriticalSection(&data_c79d54)
        
        ebx_2 = data_c79fe4
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            LeaveCriticalSection(&data_c79d54)
        
        if (ebx_2 != 0)
            int32_t var_44_1 = 1
            int32_t var_80_1 = 1
        
        if ((data_c7a960 & 1) == 0)
            data_c7a960.d |= 1
            sub_46d000(&data_c79d90)
            sub_48258e(sub_49cb00)
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            EnterCriticalSection(&data_c79d54)
        
        ebx_2 = data_c79fe5
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            LeaveCriticalSection(&data_c79d54)
        
        if (ebx_2 != 0)
            int32_t var_44_2 = 2
            int32_t var_80_2 = 1
        
        if ((data_c7a960 & 1) == 0)
            data_c7a960.d |= 1
            sub_46d000(&data_c79d90)
            sub_48258e(sub_49cb00)
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            EnterCriticalSection(&data_c79d54)
        
        ebx_2 = data_c79fe6
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            LeaveCriticalSection(&data_c79d54)
        
        int32_t var_74_1
        
        if (ebx_2 == 0)
            sub_46ff00()
            
            if (sub_46e400(&data_c79d90) == 0)
                sub_46ff00()
                
                if (sub_46e480(&data_c79d90) != 0)
                    int32_t var_3c_3 = 0x20
                    var_74_1 = 1
            else
                int32_t var_3c_2 = 0x40
                var_74_1 = 1
        else
            int32_t var_3c_1 = 0x50
            var_74_1 = 1
        int32_t eax_13
        int80_t st0
        st0, eax_13 = sub_473e20(&var_48, &var_48, &var_84)
        
        if (eax_13 s< 0)
            sub_46f290(eax_13)
            return eax_13
        
        void* eax_15 = sub_4744d0(&var_48, nullptr, 0, 1)
        int32_t edx_1
        edx_1.b = eax_15 s>= 0
        return eax_15 & (edx_1 - 1)
    
    if ((data_c7a960 & 1) == 0)
        data_c7a960.d |= 1
        sub_46d000(&data_c79d90)
        sub_48258e(sub_49cb00)
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        EnterCriticalSection(&data_c79d54)
    
    ebx_1 = data_c79fb4
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        LeaveCriticalSection(&data_c79d54)
    
    if (ebx_1 == 0)
        enum WIN32_ERROR eax_3 =
            sub_476ae0(Direct3D Window", nullptr, nullptr, nullptr, 0x80000000, 0x80000000)
        
        if (eax_3 s< NO_ERROR)
            return eax_3
        
        goto label_47720c

return 0x80004005
