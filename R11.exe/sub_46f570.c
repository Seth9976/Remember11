// 函数: sub_46f570
// 地址: 0x46f570
// 来自: E:/torrent/Apollo/R11/R11.exe.bndb

int32_t ecx
int32_t var_4_1 = ecx
int32_t result = sub_46ff00()

if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
    result = EnterCriticalSection(&data_c79d54)

int32_t* edi = data_c79d94

if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
    result = LeaveCriticalSection(&data_c79d54)

if (edi != 0)
    sub_46ff00()
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        EnterCriticalSection(&data_c79d54)
    
    data_c79fb8 = 1
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        LeaveCriticalSection(&data_c79d54)
    
    sub_46ff00()
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        EnterCriticalSection(&data_c79d54)
    
    int32_t ebx
    ebx.b = data_c79fb7
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        LeaveCriticalSection(&data_c79d54)
    
    if (ebx.b == 1)
        sub_46ff00()
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            EnterCriticalSection(&data_c79d54)
        
        int32_t edi_1 = data_c7a004
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            LeaveCriticalSection(&data_c79d54)
        
        if (edi_1 != 0)
            sub_46ff00()
            edi_1(sub_46e6c0(&data_c79d90))
        
        sub_46ff00()
        sub_46df00(&data_c79d90, 0)
    
    sub_46ff00()
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        EnterCriticalSection(&data_c79d54)
    
    ebx.b = data_c79fb6
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        LeaveCriticalSection(&data_c79d54)
    
    if (ebx.b == 1)
        sub_46ff00()
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            EnterCriticalSection(&data_c79d54)
        
        int32_t edi_2 = data_c7a008
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            LeaveCriticalSection(&data_c79d54)
        
        if (edi_2 != 0)
            sub_46ff00()
            edi_2(sub_46e700(&data_c79d90))
        
        sub_46ff00()
        sub_46de80(&data_c79d90, 0)
    
    sub_46ff00()
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        EnterCriticalSection(&data_c79d54)
    
    data_c79fb8 = 0
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        LeaveCriticalSection(&data_c79d54)
    
    if ((*(*edi + 8))(edi) u> 0)
        sub_46f290(0x80040904)
    
    sub_46ff00()
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        EnterCriticalSection(&data_c79d54)
    
    data_c79d94 = 0
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        LeaveCriticalSection(&data_c79d54)
    
    if (arg1 != 0)
        sub_46ff00()
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            EnterCriticalSection(&data_c79d54)
        
        void* esi_1 = data_c79d9c
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            LeaveCriticalSection(&data_c79d54)
        
        if (esi_1 != 0)
            j_sub_4813df(esi_1)
        
        sub_46ff00()
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            EnterCriticalSection(&data_c79d54)
        
        data_c79d9c = 0
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            LeaveCriticalSection(&data_c79d54)
    
    sub_46ff00()
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        EnterCriticalSection(&data_c79d54)
        
        if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
            LeaveCriticalSection(&data_c79d54)
    
    __builtin_memset(&data_c79da0, 0, 0x20)
    sub_46ff00()
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        EnterCriticalSection(&data_c79d54)
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        LeaveCriticalSection(&data_c79d54)
    
    sub_480cf0(0xc79dc0, 0, 0x130)
    result = sub_46ff00()
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        result = EnterCriticalSection(&data_c79d54)
    
    data_c79fb2 = 0
    
    if (class CStreamingSound `RTTI Type Descriptor'.__offset(0x1e).b != 0)
        return LeaveCriticalSection(&data_c79d54)

return result
